<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exhibition</title>
  <link rel="stylesheet" type="text/css" href="css/custom.css">
</head>
<body ng-app="exhibition">
  <div class="full">
    <div class="site-structure">
      <div class="header">
        <div class="logotype">
          <img src="./image/logo-header.gif">
        </div>
        <div class="options">
          <div class="buttons" ui-sref="about-us">
            <h1>關於萬物曆</h1>
          </div>
          <div class="buttons" ui-sref="circle-24">
            <h1>製作過程</h1>
          </div>
          <div class="buttons" ui-sref="visit">
            <h1>觀展須知</h1>
          </div>
        </div>
      </div>

      <div class="wrapper">    
        <div ui-view></div>
      </div> 

      <div class="footer">
        <p>© 2016 by Ching Wen ＆ Wen Xin.「 吾 感 」臺藝視傳/ 日間部102級/ 班展  萬物曆</p>
      </div>
    </div>
  </div>

<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="//angular-ui.github.io/ui-router/release/angular-ui-router.js"></script>
<script>
  angular.module('exhibition', ['ui.router'])
    .config(function($stateProvider, $urlRouterProvider) {
      $urlRouterProvider.otherwise("/state1")
      $stateProvider
        .state('circle-24', {
          url: "/circle-24",
          templateUrl: "templates/circle-24.html",
          controller: function($scope) {
            for (var index = 1; index <= 24; index += 1) {
              var fillZeroIndex = ("0" + index).slice(-2)
              var radius = 250
              var diff = 33

              // times
              var times = document.getElementsByClassName('times-' + fillZeroIndex)[0]
              var topY = 340 - radius * Math.sin(index * Math.PI / 12)
              var rightX = 393 - radius * Math.cos(index * Math.PI / 12)
              times.style.top = topY + 'px'
              times.style.right = rightX + 'px'
              times.style.transform = 'rotate(' + (-index * 15) + 'deg)'
              
              // text
              var target = document.getElementsByClassName('season-' + fillZeroIndex)[0]
              if (index % 2 == 0) {
                radius = radius + diff
              } else {
                radius = radius - diff
              }
              var topY = 320 - radius * Math.sin(index * Math.PI / 12)
              var rightX = 370 - radius * Math.cos(index * Math.PI / 12)
              target.style.top = topY + 'px'
              target.style.right = rightX + 'px'
            }
          }
        })
        .state('visit', {
          url: "/visit",
          templateUrl: "templates/visit.html"
        })
        .state('about-us', {
          url: "/about-us",
          templateUrl: "templates/about-us.html"
        })
        .state('circle-0', {
          url: "/spring-0",
          templateUrl: "templates/circle-0.html"
        })
        .state('circle-15', {
          url: "/spring-15",
          templateUrl: "templates/circle-15.html"
        })
        .state('circle-30', {
          url: "/spring-30",
          templateUrl: "templates/circle-30.html"
        })
        .state('circle-45', {
          url: "/summer-45",
          templateUrl: "templates/circle-45.html"
        })
        .state('circle-60', {
          url: "/summer-60",
          templateUrl: "templates/circle-60.html"
        })
        .state('circle-75', {
          url: "/summer-75",
          templateUrl: "templates/circle-75.html"
        })
        .state('circle-90', {
          url: "/summer-90",
          templateUrl: "templates/circle-90.html"
        })
        .state('circle-105', {
          url: "/summer-105",
          templateUrl: "templates/circle-105.html"
        })
        .state('circle-120', {
          url: "/summer-120",
          templateUrl: "templates/circle-120.html"
        })
    })
    
</script>
</body>
</html>